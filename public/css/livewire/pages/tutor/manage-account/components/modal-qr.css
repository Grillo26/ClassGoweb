
    /* Estilos del modal QR con prefijo único - versión mejorada para compatibilidad */
    /* NO aplicar estilos al modal en sí, solo al contenido */
    #setupqrpopup .modal-dialog {
        border: none !important;
        border-radius: 16px !important;
        overflow: visible !important; /* Cambiado de hidden a visible */
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
    }

    #setupqrpopup .modal-content {
        border: none !important;
        border-radius: 16px !important;
        overflow: hidden !important;
    }

    #setupqrpopup .upload-qr-header {
        padding: 24px 24px 0 !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        border-bottom: none !important;
        background: white !important;
    }

    #setupqrpopup .upload-qr-title {
        font-size: 20px !important;
        font-weight: 600 !important;
        color: #1f2937 !important;
        margin: 0 !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }

    #setupqrpopup .upload-qr-close {
        background: none !important;
        border: none !important;
        padding: 8px !important;
        border-radius: 8px !important;
        color: #6b7280 !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
    }

    #setupqrpopup .upload-qr-close:hover {
        background-color: #f3f4f6 !important;
        color: #374151 !important;
    }

    #setupqrpopup .upload-qr-body {
        padding: 24px !important;
        background: white !important;
    }

    /* Zona de subida */
    #setupqrpopup .upload-file-zone {
        border: 2px dashed #d1d5db !important;
        border-radius: 12px !important;
        padding: 48px 24px !important;
        text-align: center !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        background: #f9fafb !important;
        margin-bottom: 16px !important;
        position: relative !important;
    }

    #setupqrpopup .upload-file-zone:hover {
        border-color: #3b82f6 !important;
        background: #eff6ff !important;
    }

    #setupqrpopup .upload-file-zone.drag-over {
        border-color: #3b82f6 !important;
        background: #dbeafe !important;
    }

    .upload-file-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        gap: 12px !important;
    }

    .upload-file-icon {
        color: #9ca3af !important;
        transition: color 0.3s ease !important;
    }

    .upload-file-zone:hover .upload-file-icon {
        color: #3b82f6 !important;
    }

    .upload-file-title {
        font-size: 16px !important;
        font-weight: 600 !important;
        color: #374151 !important;
        margin: 0 !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }

    .upload-file-text {
        font-size: 14px !important;
        color: #6b7280 !important;
        margin: 0 !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }

    .upload-file-format {
        font-size: 12px !important;
        color: #9ca3af !important;
        background: #f3f4f6 !important;
        padding: 4px 12px !important;
        border-radius: 20px !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }

    /* Mensaje de error */
    .upload-error-message {
        background: #fef2f2 !important;
        border: 1px solid #fecaca !important;
        color: #dc2626 !important;
        padding: 12px 16px !important;
        border-radius: 8px !important;
        font-size: 14px !important;
        margin-bottom: 16px !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
    }

    /* Preview de imagen */
    .upload-image-preview {
        margin-bottom: 16px !important;
        padding: 16px !important;
        background: #f9fafb !important;
        border-radius: 8px !important;
        display: none !important;
    }

    .upload-image-preview.show {
        display: block !important;
    }

    /* Botones de acción */
    .upload-modal-actions {
        display: flex !important;
        gap: 12px !important;
        justify-content: flex-end !important;
        margin-top: 24px !important;
    }

    .upload-btn-cancel {
        padding: 12px 24px !important;
        border: 1px solid #d1d5db !important;
        background: white !important;
        color: #374151 !important;
        border-radius: 8px !important;
        font-weight: 500 !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        font-size: 14px !important;
    }

    .upload-btn-cancel:hover {
        background: #f9fafb !important;
        border-color: #9ca3af !important;
    }

    .upload-btn-save {
        padding: 12px 24px !important;
        background: #f39f05 !important;
        color: white !important;
        border: none !important;
        border-radius: 8px !important;
        font-weight: 500 !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        min-width: 120px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 8px !important;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        font-size: 14px !important;
    }

    .upload-btn-save:hover:not(.upload-btn-loading) {
        background: #2563eb !important;
    }

    .upload-btn-save.upload-btn-loading {
        opacity: 0.8 !important;
        cursor: not-allowed !important;
    }

    .upload-loading-content {
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
    }

    .upload-spinner {
        animation: upload-spin 1s linear infinite !important;
    }

    @keyframes upload-spin {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
        }
    }

    /* Responsive */
    @media (max-width: 576px) {

        .upload-qr-header,
        .upload-qr-body {
            padding: 16px !important;
        }

        .upload-file-zone {
            padding: 32px 16px !important;
        }

        .upload-modal-actions {
            flex-direction: column !important;
        }

        .upload-btn-cancel,
        .upload-btn-save {
            width: 100% !important;
            justify-content: center !important;
        }
    }




    /* Estilos para imagen existente dentro del área de drop */
    .existing-image-display {
        position: relative !important;
        width: 100% !important;
        height: 200px !important;
        overflow: hidden !important;
        border-radius: 8px !important;
    }

    .existing-qr-image {
        width: 100% !important;
        height: 100% !important;
        object-fit: contain !important;
        background: white !important;
    }

    .existing-image-overlay {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: rgba(0, 0, 0, 0.7) !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        opacity: 0 !important;
        transition: opacity 0.3s ease !important;
    }

    .upload-file-zone:hover .existing-image-overlay {
        opacity: 1 !important;
    }

    .existing-image-actions {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        gap: 8px !important;
        color: white !important;
        text-align: center !important;
    }

    .existing-image-actions .upload-file-icon {
        color: white !important;
    }

    .existing-image-actions .upload-file-title {
        color: white !important;
        font-size: 16px !important;
        margin: 0 !important;
    }

    .existing-image-actions .upload-file-text {
        color: rgba(255, 255, 255, 0.9) !important;
        font-size: 12px !important;
        margin: 0 !important;
    }

    .existing-image-actions .upload-file-format {
        background: rgba(255, 255, 255, 0.2) !important;
        color: white !important;
        font-size: 10px !important;
    }

    /* Actualizar estilos del área de upload */
    .upload-file-zone {
        border: 2px dashed #d1d5db !important;
        border-radius: 12px !important;
        padding: 24px !important;
        text-align: center !important;
        cursor: pointer !important;
        transition: all 0.3s ease !important;
        background: #f9fafb !important;
        margin-bottom: 16px !important;
        position: relative !important;
        min-height: 200px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .upload-file-zone:hover {
        border-color: #3b82f6 !important;
        background: #eff6ff !important;
    }

    /* Preview de nueva imagen */
    .new-image-preview {
        margin-bottom: 16px !important;
        padding: 16px !important;
        background: #ecfdf5 !important;
        border: 1px solid #bbf7d0 !important;
        border-radius: 8px !important;
    }

    .new-image-title {
        font-size: 14px !important;
        font-weight: 600 !important;
        color: #065f46 !important;
        margin: 0 0 12px 0 !important;
    }

    .new-image-container {
        display: flex !important;
        align-items: center !important;
        gap: 16px !important;
    }

    .new-image-preview-img {
        width: 60px !important;
        height: 60px !important;
        object-fit: cover !important;
        border-radius: 6px !important;
        border: 2px solid #10b981 !important;
    }

    .new-image-info {
        display: flex !important;
        flex-direction: column !important;
        gap: 4px !important;
    }

    .new-image-filename {
        font-size: 13px !important;
        color: #065f46 !important;
        font-weight: 500 !important;
    }

    .new-image-size {
        font-size: 12px !important;
        color: #059669 !important;
    }

